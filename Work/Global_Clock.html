<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Global Clock and Time Converter</title>
<style>
body{
  font-family:Arial, sans-serif;
  font-size:15px;
  background:#f4f5f7;
  padding:22px;
  line-height:1.35;
  margin:0;
}
h1{
  text-align:center;
  margin:0 0 18px 0;
  font-size:22px;
  font-weight:bold;
  background:#003d74; /* LSEG navy */
  color:white;
  padding:12px 16px;
  border-radius:6px;
}

/* shared grid cards */
#rowA,#rowB,#convOutGrid{
  display:grid;
  grid-template-columns:repeat(4, minmax(220px,1fr));
  gap:8px 16px;
  margin-bottom:40px;
}
.tzCard{
  background:white;
  border:1px solid #d0d3d6;
  border-radius:6px;
  padding:8px 10px;
  box-shadow:0 1px 3px rgba(0,0,0,0.1);
  font-weight:bold;
  color:#003d74;
  white-space:nowrap;
}
.tzLabel{ display:block; font-size:12px; color:#445; font-weight:600; }
.tzMain{ font-size:15px; color:#003d74; }

/* converter panel */
#convBox{
  border:1px solid #ccc;
  border-radius:6px;
  padding:14px;
  width:900px;
  max-width:100%;
  background:white;
  box-shadow:0 2px 4px rgba(0,0,0,0.08);
  margin-bottom:14px;
}

/* center the converter output grid */
#convOutGrid{
  max-width:980px;          /* keeps it neat */
  margin:30px auto 40px;    /* centers the whole block */
}
</style>
</head>
<body>

<h1>Global Clock and Time Converter</h1>

<!-- Live clocks -->
<div id="rowA"></div>  <!-- Corporate favourites (time only) -->
<div id="rowB"></div>  <!-- Global well-known regions (date + time) -->

<!-- Converter (controls above results) -->
<div id="convBox">
  <div style="font-weight:bold;margin-bottom:10px;">Time Converter</div>
  Time:
  <!-- changed ONLY this line -->
  <input id="convTime" type="text" value="00:00" placeholder="HH:MM" style="width:80px;text-align:center;">
  From TZ:
  <select id="convFrom"></select>
  Format:
  <select id="convFormat">
    <option value="24" selected>24H</option>
    <option value="12">12H</option>
  </select>
  <button id="convRunBtn">Convert</button>
  <button id="convNowBtn">Now</button>
</div>

<!-- Converter results: 11 corporate cards, gap, then full global cards -->
<div id="convOutGrid"></div>

<script>
/* ===== helpers for accurate timezone math ===== */
function tzOffsetAt(utcMs, tz){
  const d = new Date(utcMs);
  const tzDate  = new Date(d.toLocaleString("en-US", { timeZone: tz }));
  const utcDate = new Date(d.toLocaleString("en-US", { timeZone: "UTC" }));
  return tzDate.getTime() - utcDate.getTime(); // ms east(+)/west(-) of UTC
}
function utcFromWallToday(H, M, fromTZ){
  const now = new Date();
  const y = now.getUTCFullYear();
  const m = now.getUTCMonth();
  const d = now.getUTCDate();
  const guessUTC = Date.UTC(y, m, d, H, M, 0);
  const off = tzOffsetAt(guessUTC, fromTZ);
  return guessUTC - off;
}

/* ===== Corporate favourites (Row A) ===== */
const CORP_ZONES = {
 "Asia/Singapore":"Singapore",
 "Etc/GMT":"GMT",
 "Asia/Tokyo":"Tokyo",
 "Asia/Bangkok":"Bangkok",
 "Australia/Sydney":"Sydney",
 "Asia/Kolkata":"Bengaluru",
 "Europe/London":"London",
 "Europe/Bucharest":"Bucharest",
 "Europe/Berlin":"Frankfurt",
 "America/New_York":"New York",
 "America/Chicago":"Chicago"
};

(function buildRowA(){
  const host=document.getElementById("rowA");
  function tick(){
    const now=Date.now();
    host.innerHTML="";
    for(const tz in CORP_ZONES){
      const card=document.createElement("div");
      card.className="tzCard";
      card.innerHTML=`<span class="tzMain">${CORP_ZONES[tz]}: ${
        new Date(now).toLocaleTimeString("en-GB",{hour12:false,timeZone:tz})
      }</span>`;
      host.appendChild(card);
    }
  }
  tick(); setInterval(tick,1000);
})();

/* ===== Global well-known city/regions (Row B) ===== */
const GLOBAL_ZONES = [
  ["Pacific/Kwajalein",     "Baker Island (USA)"],
  ["Pacific/Pago_Pago",     "Pago Pago (American Samoa)"],
  ["Pacific/Honolulu",      "Honolulu (Hawaii, USA)"],
  ["Pacific/Marquesas",     "Marquesas Islands"],
  ["America/Anchorage",     "Anchorage (Alaska, USA)"],
  ["America/Los_Angeles",   "Los Angeles / San Francisco (USA)"],
  ["America/Denver",        "Denver / Phoenix (USA)"],
  ["America/Chicago",       "Chicago / Mexico City"],
  ["America/New_York",      "New York / Toronto / Bogotá / Lima"],
  ["America/Santiago",      "Santiago / Caracas / Puerto Rico"],
  ["America/St_Johns",      "St. John’s (Newfoundland, Canada)"],
  ["America/Sao_Paulo",     "São Paulo / Buenos Aires"],
  ["Atlantic/South_Georgia","South Georgia & South Sandwich Is."],
  ["Atlantic/Azores",       "Azores (Portugal)"],
  ["Europe/London",         "London / Dublin / Lisbon / Accra"],
  ["Europe/Paris",          "Paris / Berlin / Rome / Madrid / Lagos"],
  ["Europe/Athens",         "Athens / Johannesburg / Cairo / Helsinki"],
  ["Europe/Moscow",         "Moscow / Riyadh / Nairobi"],
  ["Asia/Tehran",           "Tehran (Iran)"],
  ["Asia/Dubai",            "Dubai / Baku"],
  ["Asia/Kabul",            "Kabul (Afghanistan)"],
  ["Asia/Karachi",          "Karachi / Tashkent"],
  ["Asia/Kolkata",          "New Delhi / Mumbai / Colombo"],
  ["Asia/Kathmandu",        "Kathmandu (Nepal)"],
  ["Asia/Dhaka",            "Dhaka / Almaty"],
  ["Asia/Yangon",           "Yangon (Myanmar)"],
  ["Asia/Bangkok",          "Bangkok / Jakarta / Ho Chi Minh"],
  ["Asia/Singapore",        "Singapore / Beijing / Kuala Lumpur / Perth"],
  ["Australia/Eucla",       "Eucla (Western Australia)"],
  ["Asia/Tokyo",            "Tokyo / Seoul"],
  ["Australia/Adelaide",    "Adelaide / Darwin"],
  ["Australia/Sydney",      "Sydney / Melbourne / Brisbane"],
  ["Australia/Lord_Howe",   "Lord Howe Island"],
  ["Pacific/Noumea",        "Solomon Islands / Nouméa"],
  ["Pacific/Auckland",      "Auckland / Suva"],
  ["Pacific/Chatham",       "Chatham Islands"],
  ["Pacific/Tongatapu",     "Tonga / Samoa"],
  ["Pacific/Kiritimati",    "Kiribati (Line Islands)"]
];

(function buildRowB(){
  const host=document.getElementById("rowB");
  function tick(){
    const now=new Date();
    host.innerHTML="";
    for(const [zone,name] of GLOBAL_ZONES){
      const dateStr=now.toLocaleDateString("en-GB",{timeZone:zone});
      const timeStr=now.toLocaleTimeString("en-GB",{hour12:false,timeZone:zone});
      const card=document.createElement("div");
      card.className="tzCard";
      card.innerHTML=`<span class="tzLabel">${name}</span><span class="tzMain">${dateStr} ${timeStr}</span>`;
      host.appendChild(card);
    }
  }
  tick(); setInterval(tick,1000);
})();

/* ===== Converter (controls above results) ===== */
(function(){
  const sel=document.getElementById("convFrom");
  for(const tz in CORP_ZONES){
    const o=document.createElement("option");
    o.value=tz; o.textContent=CORP_ZONES[tz];
    sel.appendChild(o);
  }
  sel.value="Asia/Singapore";

  function runConv(){
    const timeVal=document.getElementById("convTime").value||"00:00";
    const [H,M]=timeVal.split(":").map(Number);
    const fromTZ=document.getElementById("convFrom").value;
    const fmt12=document.getElementById("convFormat").value==="12";

    // UTC instant for "today HH:MM in fromTZ"
    const utcMs=utcFromWallToday(H,M,fromTZ);

    const grid=document.getElementById("convOutGrid");
    grid.innerHTML="";

    // Title card spanning all columns
    const title=document.createElement("div");
    title.className="tzCard";
    title.style.gridColumn="span 4";
    title.textContent=`Converted from ${CORP_ZONES[fromTZ]} @ ${timeVal}`;
    grid.appendChild(title);

    // --- Corporate 11 cards (same order as rowA) ---
    for(const tz in CORP_ZONES){
      const inst=new Date(utcMs);
      const dateStr=inst.toLocaleDateString("en-GB",{timeZone:tz});
      const timeStr=inst.toLocaleTimeString("en-US",{hour12:fmt12,timeZone:tz});
      const d=document.createElement("div");
      d.className="tzCard";
      d.innerHTML=`<span class="tzMain">${CORP_ZONES[tz]}: ${timeStr}</span><br><span class="tzLabel">${dateStr}</span>`;
      grid.appendChild(d);
    }

    // --- 3-row visual gap (approx) ---
    const spacer=document.createElement("div");
    spacer.style.gridColumn="span 4";
    spacer.style.height="40px"; /* ~3 text rows */
    grid.appendChild(spacer);

    // --- Global list (same order as Row B) ---
    for(const [zone,name] of GLOBAL_ZONES){
      const inst=new Date(utcMs);
      const dateStr=inst.toLocaleDateString("en-GB",{timeZone:zone});
      const timeStr=inst.toLocaleTimeString("en-US",{hour12:fmt12,timeZone:zone});
      const d=document.createElement("div");
      d.className="tzCard";
      d.innerHTML=`<span class="tzLabel">${name}</span><span class="tzMain">${dateStr} ${timeStr}</span>`;
      grid.appendChild(d);
    }
  }

  document.getElementById("convRunBtn").onclick=runConv;
  document.getElementById("convNowBtn").onclick=()=>{
    const n=new Date();
    document.getElementById("convTime").value=
      `${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`;
    runConv();
  };
})();

/* ===== allow typing HHMM / HH:MM in convTime ===== */
document.getElementById("convTime").addEventListener("input", e=>{
  let v=e.target.value.replace(/\D/g,"");
  if(v.length===3) v="0"+v;          
  if(v.length===4) v=v.slice(0,2)+":"+v.slice(2);
  e.target.value=v;
});
</script>

</body>
</html>